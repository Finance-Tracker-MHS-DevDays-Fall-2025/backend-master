# Master Service

Сервис, агрегирующий в себя данные остальных микросервисы и предоставляющий REST API для фронтенда

## Быстрый старт

### 1. Настроить переменные окружения

Выполните команду:

```bash
make env
```

В корне появится `.env` файл с примерным наполнением (берется из `.env.example`)

### 2. Установить зависимости

```bash
go mod download
```

### 3. Запустить сервис

```bash
make run
```

Сервис будет доступен на:

- gRPC: `localhost:$GRPC_PORT`
- Debug HTTP: `localhost:$HTTP_PORT`

## Команды

- `make env` - команда для создания стабового `.env` файла
- `make sync-submodules` - синхронизировать сабмодули репозитория. В том числе, синхронизировать common-репозиторий, где лежат все протобафы
- `make protogen` - сгенерировать Go код из protobuf
- `make run` - запустить сервис

## Структура проекта

```
backend-master/
├── cmd/                    # точка входа в сервис
├── configs/                # конфиги
├── internal/
│   │── api/                # git submodule с протобафами
│   │── api-gen/            # сгенерированный из протобафов Go-код 
│   │── data/               # data-слой сервиса. Здесь лежит логика работы с БД и микросервисами
│   │── domain/             # domain-слой сервиса. Здесь лежит вся бизнес-логика
│   │── logger/             # код логгера
│   │── presentation/       # presentation-слой. Здесь лежит логика для обработки запросов от фронтенда
│   └── service.go         # Здесь лежит инициализация и запуск всех компонентов сервиса
├── go.mod
├── Makefile
└── README.md
```
